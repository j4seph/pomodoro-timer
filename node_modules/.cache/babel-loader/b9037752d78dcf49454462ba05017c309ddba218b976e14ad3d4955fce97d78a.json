{"ast":null,"code":"import _slicedToArray from\"/Users/707/Documents/code/pomodoro-timer/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef}from\"react\";import restart from\"../../assets/restart.svg\";import pause from\"../../assets/pause.svg\";import play from\"../../assets/play.svg\";import buttonClickSound from\"../../assets/switch-button.mp3\";import timerFinishedSound from\"../../assets/timer-finished.mp3\";import\"./Timer.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Timer(_ref){var workTime=_ref.workTime,showWorkTime=_ref.showWorkTime,breakTime=_ref.breakTime,showBreakTime=_ref.showBreakTime,soundPreference=_ref.soundPreference;var _useState=useState(workTime),_useState2=_slicedToArray(_useState,2),minutes=_useState2[0],setMinutes=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),seconds=_useState4[0],setSeconds=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),hasBeenActive=_useState6[0],setHasBeenActive=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),active=_useState8[0],setActive=_useState8[1];var buttonClick=useRef(null);var timerFinished=useRef(null);var timeLeft=(minutes<10?\"0\"+minutes:minutes)+\":\"+(seconds<10?\"0\"+seconds:seconds);active?document.title=timeLeft+\" - Pomodoro timer\":document.title=\"Pomodoro timer\";useEffect(function(){if(showWorkTime){setActive(false);setMinutes(workTime);setSeconds(0);}else{return;}},[workTime,showWorkTime]);useEffect(function(){if(showBreakTime){setActive(false);setMinutes(breakTime);setSeconds(0);}else{return;}},[breakTime,showBreakTime]);useEffect(function(){if(active&&seconds>0){setTimeout(function(){setSeconds(seconds-1);},1000);}else if(active&&minutes>0&&seconds===0){setTimeout(function(){setMinutes(minutes-1);setSeconds(59);},1000);}else if(active&&minutes===0&&seconds===0){pauseTimer();if(soundPreference){timerFinished.current.play();}setActive(false);}},[active,minutes,seconds,pauseTimer,soundPreference]);function beginTimer(){if(soundPreference){buttonClick.current.play();}if(hasBeenActive===false){setHasBeenActive(true);setMinutes(minutes-1);setSeconds(59);setActive(true);return;}else{setActive(true);return;}}function pauseTimer(){if(soundPreference){buttonClick.current.play();}setActive(false);return;}function restartTimer(){if(soundPreference){buttonClick.current.play();}setActive(false);setSeconds(0);if(showWorkTime){setMinutes(workTime);}else{setMinutes(breakTime);}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"time-left\",children:/*#__PURE__*/_jsx(\"h1\",{children:timeLeft})}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"audio\",{ref:buttonClick,children:/*#__PURE__*/_jsx(\"source\",{src:buttonClickSound,type:\"audio/mpeg\"})}),/*#__PURE__*/_jsx(\"audio\",{ref:timerFinished,children:/*#__PURE__*/_jsx(\"source\",{src:timerFinishedSound,type:\"audio/mpeg\"})}),active?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:beginTimer,id:\"play-button\",style:{marginRight:\"15px\"},className:\"button-disabled\",children:/*#__PURE__*/_jsx(\"img\",{src:play,id:\"play-icon\",alt:\"play-icon\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:pauseTimer,id:\"pause-button\",style:{marginRight:\"15px\"},children:/*#__PURE__*/_jsx(\"img\",{src:pause,id:\"pause-button\",className:\"icon-disabled\",alt:\"pause-button\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:restartTimer,id:\"restart-button\",className:\"button-disabled\",children:/*#__PURE__*/_jsx(\"img\",{src:restart,alt:\"restart-button\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:beginTimer,id:\"play-button\",style:{marginRight:\"15px\"},children:/*#__PURE__*/_jsx(\"img\",{src:play,id:\"play-icon\",alt:\"play-button\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:pauseTimer,id:\"pause-button\",style:{marginRight:\"15px\"},className:\"button-disabled\",children:/*#__PURE__*/_jsx(\"img\",{src:pause,id:\"pause-button\",className:\"icon-disabled\",alt:\"pause-button\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:restartTimer,id:\"restart-button\",alt:\"restart-button\",children:/*#__PURE__*/_jsx(\"img\",{src:restart})})]})]})]});}","map":{"version":3,"names":["useState","useEffect","useRef","restart","pause","play","buttonClickSound","timerFinishedSound","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Timer","_ref","workTime","showWorkTime","breakTime","showBreakTime","soundPreference","_useState","_useState2","_slicedToArray","minutes","setMinutes","_useState3","_useState4","seconds","setSeconds","_useState5","_useState6","hasBeenActive","setHasBeenActive","_useState7","_useState8","active","setActive","buttonClick","timerFinished","timeLeft","document","title","setTimeout","pauseTimer","current","beginTimer","restartTimer","children","className","ref","src","type","onClick","id","style","marginRight","alt"],"sources":["/Users/707/Documents/code/pomodoro-timer/src/components/Timer/Timer.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\nimport restart from \"../../assets/restart.svg\";\nimport pause from \"../../assets/pause.svg\";\nimport play from \"../../assets/play.svg\";\nimport buttonClickSound from \"../../assets/switch-button.mp3\";\nimport timerFinishedSound from \"../../assets/timer-finished.mp3\";\nimport \"./Timer.css\";\n\nexport default function Timer({\n  workTime,\n  showWorkTime,\n  breakTime,\n  showBreakTime,\n  soundPreference,\n}) {\n  const [minutes, setMinutes] = useState(workTime);\n  const [seconds, setSeconds] = useState(0);\n  const [hasBeenActive, setHasBeenActive] = useState(false);\n  const [active, setActive] = useState(false);\n  const buttonClick = useRef(null);\n  const timerFinished = useRef(null);\n  const timeLeft =\n    (minutes < 10 ? \"0\" + minutes : minutes) +\n    \":\" +\n    (seconds < 10 ? \"0\" + seconds : seconds);\n\n  active\n    ? (document.title = timeLeft + \" - Pomodoro timer\")\n    : (document.title = \"Pomodoro timer\");\n\n  useEffect(() => {\n    if (showWorkTime) {\n      setActive(false);\n      setMinutes(workTime);\n      setSeconds(0);\n    } else {\n      return;\n    }\n  }, [workTime, showWorkTime]);\n\n  useEffect(() => {\n    if (showBreakTime) {\n      setActive(false);\n      setMinutes(breakTime);\n      setSeconds(0);\n    } else {\n      return;\n    }\n  }, [breakTime, showBreakTime]);\n\n  useEffect(() => {\n    if (active && seconds > 0) {\n      setTimeout(() => {\n        setSeconds(seconds - 1);\n      }, 1000);\n    } else if (active && minutes > 0 && seconds === 0) {\n      setTimeout(() => {\n        setMinutes(minutes - 1);\n        setSeconds(59);\n      }, 1000);\n    } else if (active && minutes === 0 && seconds === 0) {\n      pauseTimer();\n      if (soundPreference) {\n        timerFinished.current.play();\n      }\n      setActive(false);\n    }\n  }, [active, minutes, seconds, pauseTimer, soundPreference]);\n\n  function beginTimer() {\n    if (soundPreference) {\n      buttonClick.current.play();\n    }\n\n    if (hasBeenActive === false) {\n      setHasBeenActive(true);\n      setMinutes(minutes - 1);\n      setSeconds(59);\n      setActive(true);\n      return;\n    } else {\n      setActive(true);\n      return;\n    }\n  }\n\n  function pauseTimer() {\n    if (soundPreference) {\n      buttonClick.current.play();\n    }\n    setActive(false);\n    return;\n  }\n\n  function restartTimer() {\n    if (soundPreference) {\n      buttonClick.current.play();\n    }\n    setActive(false);\n    setSeconds(0);\n\n    if (showWorkTime) {\n      setMinutes(workTime);\n    } else {\n      setMinutes(breakTime);\n    }\n  }\n\n  return (\n    <>\n      <div className=\"time-left\">\n        <h1>{timeLeft}</h1>\n      </div>\n      <div className=\"buttons\">\n        <audio ref={buttonClick}>\n          <source src={buttonClickSound} type=\"audio/mpeg\" />\n        </audio>\n        <audio ref={timerFinished}>\n          <source src={timerFinishedSound} type=\"audio/mpeg\" />\n        </audio>\n        {active ? (\n          <>\n            <button\n              onClick={beginTimer}\n              id=\"play-button\"\n              style={{ marginRight: \"15px\" }}\n              className=\"button-disabled\"\n            >\n              <img src={play} id=\"play-icon\" alt=\"play-icon\" />\n            </button>\n            <button\n              onClick={pauseTimer}\n              id=\"pause-button\"\n              style={{ marginRight: \"15px\" }}\n            >\n              <img\n                src={pause}\n                id=\"pause-button\"\n                className=\"icon-disabled\"\n                alt=\"pause-button\"\n              />\n            </button>\n            <button\n              onClick={restartTimer}\n              id=\"restart-button\"\n              className=\"button-disabled\"\n            >\n              <img src={restart} alt=\"restart-button\" />\n            </button>\n          </>\n        ) : (\n          <>\n            <button\n              onClick={beginTimer}\n              id=\"play-button\"\n              style={{ marginRight: \"15px\" }}\n            >\n              <img src={play} id=\"play-icon\" alt=\"play-button\" />\n            </button>\n            <button\n              onClick={pauseTimer}\n              id=\"pause-button\"\n              style={{ marginRight: \"15px\" }}\n              className=\"button-disabled\"\n            >\n              <img\n                src={pause}\n                id=\"pause-button\"\n                className=\"icon-disabled\"\n                alt=\"pause-button\"\n              />\n            </button>\n            <button\n              onClick={restartTimer}\n              id=\"restart-button\"\n              alt=\"restart-button\"\n            >\n              <img src={restart} />\n            </button>\n          </>\n        )}\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}